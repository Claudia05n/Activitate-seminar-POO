#include<iostream>
#include<string>

using namespace std;

class Magazin {
private:
	const int codUnic;
	string nume;
	float cifraAfaceri;
	int nrLuni;
	float* vanzariLunare;
	static int nrTotalMagazine;

public:
	Magazin() :codUnic(++nrTotalMagazine) {
		this->nume = "Magazin Default";
		this->cifraAfaceri = 0;
		this->nrLuni = 0;
		this->vanzariLunare = nullptr;
	}

	Magazin(string nume, float cifraAfaceri, int nrLuni, float* vanzariSursa)
		:codUnic(++nrTotalMagazine)
	{
		this->nume = nume;
		this->cifraAfaceri = cifraAfaceri;
		this->nrLuni = nrLuni;

		this->vanzariLunare = new float[this->nrLuni];
		for (int i = 0; i < this->nrLuni; i++) {
			this->vanzariLunare[i] = vanzariSursa[i];
		}

		delete[] vanzariSursa;
	}

	void afisareMagazin() {
		cout << endl << this->codUnic << ". Magazinul " << this->nume
			<< " are Cifra de Afaceri anuala de " << this->cifraAfaceri
			<< " lei si are date de vanzari pe " << this->nrLuni << " luni: ";

		if (this->vanzariLunare != nullptr) {
			for (int i = 0; i < this->nrLuni - 1; i++) {
				cout << this->vanzariLunare[i] << " lei, ";
			}
			cout << this->vanzariLunare[this->nrLuni - 1] << " lei.";
		}
	}

	~Magazin() {
		if (this->vanzariLunare != nullptr) {
			delete[] this->vanzariLunare;
		}
	}
};

int Magazin::nrTotalMagazine = 0;

void main() {

	Magazin magazin1;
	magazin1.afisareMagazin();

	float* vanzari = new float[3] {15000.0, 12500.5, 18000.0};

	Magazin* magazin2 = new Magazin("Magazin Central", 50500.5, 3, vanzari);
	magazin2->afisareMagazin();

	delete magazin2;
}
